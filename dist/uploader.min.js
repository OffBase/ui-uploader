/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.0.0 - 2015-09-18T21:44:36.484Z
 * License: MIT
 */
!function(){"use strict";function e(e){function o(e){for(var o=0;o<e.length;o++)r.files.push(e[o])}function i(){return r.files}function n(e){r.options=e;for(var o=0;o<r.files.length&&r.activeUploads!=r.options.concurrency;o++)r.files[o].active||a(r.files[o],r.options.url,r.options.data,r.options.headers,r.options.httpMethod,r.options.key)}function t(e){r.files.splice(r.files.indexOf(e),1)}function l(){r.files.splice(0,r.files.length)}function s(e){var o=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(i?1:0)+" "+o[isNaN(e)?0:i+1]}function a(e,o,i,t,l,a){var d,p,u;if(a=a||"file",i=i||{},l=l||"POST",t=t||[],r.activeUploads+=1,e.active=!0,d=new window.XMLHttpRequest,i.withCredentials===!0&&(d.withCredentials=!0),p=new window.FormData,d.open(l,o),d.upload.onloadstart=function(){},d.upload.onprogress=function(o){o.lengthComputable&&(e.loaded=o.loaded,e.humanSize=s(o.loaded),r.options.onProgress(e))},d.onload=function(){r.activeUploads-=1,r.uploadedFiles+=1,n(r.options),r.options.onCompleted(e,d.responseText,d.status),r.uploadedFiles===r.files.length&&(r.uploadedFiles=0,r.options.onCompletedAll(r.files))},d.onerror=function(){},i)for(u in i)i.hasOwnProperty(u)&&p.append(u,i[u]);if(p.append(a,e,e.name),t.length)for(var f=0;f<t.length;f++)d.setRequestHeader(t[f].key,t[f].value);return d.send(p),d}var r=this;return r.files=[],r.options={},r.activeUploads=0,r.uploadedFiles=0,e.info("uiUploader loaded"),{addFiles:o,getFiles:i,files:r.files,startUpload:n,removeFile:t,removeAll:l}}angular.module("ui.uploader",[]).service("uiUploader",e),e.$inject=["$log"]}();